<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shelf Whisper - Book Details</title>
    <link rel="stylesheet" href="styles-7.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Charm:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="logo">
                <img src="Rectangle 2.png" alt="Shelf Whisper Logo">
            </div>
            <ul class="nav-links">
                <li><a href="index-4.html">Home</a></li>
                <li><a href="/index-5">Genre</a></li>
                <li><a href="/index-6">Books</a></li>
                <li><a href="ecom.html">Support</a></li>
            </ul>
            <div class="icons">
                <a href="rental-login.html"><img src="Group 73.png" alt="User Icon"></a>
                <a href="#"><img src="Group.png" alt="Cart Icon"></a>
            </div>
        </nav>
    </header>

    <main>
        <section class="book-details-section">
            <div class="left-section">
                <div class="book-image">
                    <img id="bookImage" src="" alt="Book Cover">
                </div>
                <h1 id="bookTitle" class="book-title"></h1>
                <div class="extra-info">
                    <p><strong>Rented Till Now:</strong> <span id="bookRentCount"></span></p>
                    <p><strong>Reading Time:</strong> <span id="bookReadingTime"></span></p>
                </div>
                <div class="price-container">
                    <p><strong>Price - Rs <span id="bookPrice"></span></strong></p>
                </div>
            </div>

            <div class="right-section">
                <div class="book-section">
                    <div class="book-description">
                        <ul>
                            <li><strong>Author:</strong> <span id="bookAuthor"></span></li>
                            <li><strong>Rented By:</strong> <span id="bookRenter"></span></li>
                            <li><strong>Listed on:</strong> <span id="bookListedDate"></span></li>
                            <li><strong>Location:</strong> <span id="bookLocation"></span></li>
                            <li><strong>Description:</strong> <span id="bookDescription"></span></li>
                        </ul>
                    </div>
                </div>

                <div class="buttons">
                    <a href="index-8.html"><button class="rent-button">Rent Now</button></a>
                    <button id="addToCartButton" class="add-to-cart-button">Add to Cart</button>
                </div>
            </div>
        </section>
    </main>

    <script>
        // Script to populate book details dynamically
        document.addEventListener('DOMContentLoaded', () => {
            const bookDetails = JSON.parse(localStorage.getItem('selectedBook'));

            if (bookDetails) {
                document.getElementById('bookImage').src = `http://localhost:4000/${bookDetails.photos[0]}`;
                document.getElementById('bookTitle').textContent = bookDetails.title;
                document.getElementById('bookRentCount').textContent = bookDetails.rentedCount || 'N/A';
                document.getElementById('bookReadingTime').textContent = bookDetails.readingTime || 'N/A';
                document.getElementById('bookPrice').textContent = bookDetails.price;
                document.getElementById('bookAuthor').textContent = bookDetails.author;
                document.getElementById('bookRenter').textContent = bookDetails.renter || 'N/A';
                document.getElementById('bookListedDate').textContent = bookDetails.listedDate || 'N/A';
                document.getElementById('bookLocation').textContent = bookDetails.location || 'N/A';
                document.getElementById('bookDescription').textContent = bookDetails.description;
            } else {
                alert('No book selected');
                window.location.href = 'index-6.html'; // Redirect to books page
            }
        });
    </script>
</body>
</html>
